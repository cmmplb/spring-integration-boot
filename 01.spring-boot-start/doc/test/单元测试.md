打包时命令DskipTests=true和-Dmaven.test.skip=true区别：

1. mvn clean package -DskipTests=true：打包时跳过单元测试，不执行单元测试，只打包项目，不生成jar包。
2. mvn clean package -Dmaven.test.skip=true：完全忽略测试，不执行单元测试，不生成jar包。

一般建议使用第二种，因为第一种在单元测试中，如果单元测试执行失败，则不会执行后续的测试。

**常用注解**

- @BeforeEach：在每个单元测试方法执行前都执行一遍
- @BeforeAll：在每个单元测试方法执行前执行一遍（只执行一次）
- @DisplayName("商品入库测试")：用于指定单元测试的名称
- @Disabled：当前单元测试置为无效, 即单元测试时跳过该测试
- @RepeatedTest(n)：重复性测试, 即执行n次
- @ParameterizedTest：参数化测试,
- @ValueSource(ints = {1, 2, 3})：参数化测试提供数据

**属性注入**

````java

@Value("${name}")
private String name;
````

测试代码中需要如下设置配置值：

``ReflectionTestUtils.setField(userService, "name", "王二");``

# 测试类中启动web环境

每一个springboot的测试类上方都会标准@SpringBootTest注解, 而注解带有一个属性, 叫做webEnvironment。通过该属性就可以设置在测试用例中启动web环境,
具体如下：

```JAVA

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class WebTest {
}
```

- MOCK：根据当前设置确认是否启动web环境, 例如使用了Servlet的API就启动web环境, 属于适配性的配置
- DEFINED_PORT：使用自定义的端口作为web服务器端口
- RANDOM_PORT：使用随机端口作为web服务器端口
- NONE：不启动web环境

通过@AutoConfigureMockMvc注解开启虚拟MVC调用，发送GET、POST、DELETE、PUT等虚拟请求。

